!function(){"use strict";angular.module("estepApp.dc",[]).constant("dc",dc),angular.module("estepApp.d3",[]).constant("d3",d3),angular.module("estepApp.crossfilter",[]).constant("crossfilter",crossfilter),angular.module("estepApp.colorbrewer",[]).constant("colorbrewer",colorbrewer),angular.module("estepApp",["ngAnimate","ngTouch","ui.bootstrap","estepApp.selector","estepApp.software","estepApp.endorsedby","estepApp.projects","estepApp.people","estepApp.organizations","estepApp.breadcrumbs"]).config(["$compileProvider","$urlRouterProvider","$locationProvider",function(a,b,c){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file|blob):/),c.html5Mode(!0),b.otherwise("/software")}]).run(["$timeout","DataService","NdxService",function(a,b,c){angular.element(document).ready(function(){b.load()})}]),angular.module("estepApp.templates",[]),angular.module("estepApp.utils",["estepApp.templates","estepApp.d3","ui.router"]),angular.module("estepApp.ndx",["estepApp.crossfilter","estepApp.utils"]),angular.module("estepApp.selector",["estepApp.utils"]),angular.module("estepApp.charts",["estepApp.crossfilter","estepApp.utils","estepApp.d3","estepApp.dc"]),angular.module("estepApp.endorsedby",["estepApp.crossfilter","estepApp.utils","estepApp.d3","estepApp.dc"]),angular.module("estepApp.software",["estepApp.crossfilter","estepApp.utils","estepApp.charts"]).config(["$stateProvider",function(a){a.state("software-detail",{url:"/software/:slug",template:"<software-detail></software-detail>"}),a.state("software",{url:"/software?keywords&discipline&competence&expertise&technologyTag&supportLevel&status&programmingLanguage&license&endorser",template:"<software-directive></software-directive>",params:{keywords:{value:void 0,squash:!0},discipline:{value:void 0,array:!0,squash:!0},competence:{value:void 0,array:!0,squash:!0},expertise:{value:void 0,array:!0,squash:!0},technologyTag:{value:void 0,array:!0,squash:!0},supportLevel:{value:void 0,squash:!0},status:{value:void 0,squash:!0},programmingLanguage:{value:void 0,array:!0,squash:!0},license:{value:void 0,array:!0,squash:!0},endorser:{value:"All",squash:!0}}})}]),angular.module("estepApp.projects",["estepApp.crossfilter","estepApp.utils","estepApp.charts"]).config(["$stateProvider",function(a){a.state("projects",{url:"/projects?keywords&discipline&competence&expertise&dataFormat&dataMagnitude&endorser",template:"<projects-directive></projects-directive>",params:{keywords:{value:void 0,squash:!0},discipline:{value:void 0,array:!0,squash:!0},competence:{value:void 0,array:!0,squash:!0},expertise:{value:void 0,array:!0,squash:!0},dataFormat:{value:void 0,array:!0,squash:!0},dataMagnitude:{value:void 0,squash:!0},endorser:{value:"All",squash:!0}}})}]),angular.module("estepApp.people",["estepApp.crossfilter","estepApp.utils","estepApp.charts"]).config(["$stateProvider",function(a){a.state("people",{url:"/people?keywords&jobTitle&endorser",template:"<people-directive></people-directive>",params:{keywords:{value:void 0,squash:!0},jobTitle:{value:void 0,squash:!0},endorser:{value:"All",squash:!0}}})}]),angular.module("estepApp.organizations",[]).config(["$stateProvider",function(a){a.state("organizations",{url:"/organizations",template:"<organizations-directive></organizations-directive>"})}]),angular.module("estepApp.breadcrumbs",["estepApp.core","estepApp.dc","estepApp.utils"]),angular.module("estepApp.core",["estepApp.utils","estepApp.d3","toastr","estepApp.ndx","ngSanitize"])}(),function(){"use strict";function a(a){this.publish=function(){return a.$emit.apply(a,arguments)},this.subscribe=function(){return a.$on.apply(a,arguments)}}a.$inject=["$rootScope"],angular.module("estepApp.utils").service("Messagebus",a)}(),function(){"use strict";function a(a,b,c,d){var e=function(a){return a.reduce(function(a,b){return a.indexOf(b)<0&&a.push(b),a},[])};this.determineUniqueInhabitants=function(a,b){var c=[],d=a[b];void 0!==d&&null!==d&&null!==d[b]?d.forEach(function(a){c.push(a)}):c.push("none");var f=e(c);return f},this.customReduceAdd=function(a){return function(b,c){var d=c[a];return void 0!==d&&null!==d&&null!==d[a]?d.forEach(function(a){b[a]=(b[a]||0)+1}):b.none=(b.none||0)+1,b}},this.customReduceRemove=function(a){return function(b,c){var d=c[a];return void 0!==d&&null!==d&&null!==d[a]?d.forEach(function(a){b[a]=(b[a]||0)-1}):b.none=(b.none||0)-1,b}},this.customReduceInitial=function(a){return function(){return{}}},this.addAllTopOrderFunctions=function(a){a.all=function(){var a=[];for(var b in this)this.hasOwnProperty(b)&&"all"!==b&&"top"!==b&&"order"!==b&&a.push({key:b,value:this[b]});return a},a.top=function(a){var b=this.all().sort(function(a,b){return b.value-a.value}).slice(0,a);return b},a.order=function(a){return a}},this.buildDimensionWithArrayProperty=function(b,c){var d=null;return d=a.buildDimension(b,c,function(a){return this.determineUniqueInhabitants(a,c)}.bind(this))}.bind(this),this.buildGroupWithArrayProperty=function(a,b){var c=a.groupAll().reduce(this.customReduceAdd(b),this.customReduceRemove(b),this.customReduceInitial(b)).value();return this.addAllTopOrderFunctions(c),c}.bind(this),this.buildDimensionWithProperty=function(b,c){var d=a.buildDimension(b,c,function(a){return a[c]}.bind(this));return d}.bind(this),this.buildGroupWithProperty=function(a){var b=a.group();return b}.bind(this),this.buildDimensionWithProperties=function(b,c,d){var e=a.buildDimension(b,c,function(a){var b=[];return d.forEach(function(c){b.push(a[c])}),b}.bind(this));return e}.bind(this),this.bagFilterHandler=function(a,b){return function(d,e){return d.filterFunction(function(a){var b=!0;return void 0===a?b=!1:b===!0&&a instanceof String?e.forEach(function(c){a!==c&&(b=!1)}):e.forEach(function(c){b===!0&&a.indexOf(c)===-1&&(b=!1)}),b}),c.publish("newFilterEvent",{filters:e,chart:a,header:b}),e}},this.fulltextFilterHandler=function(a,b){return function(d,e){var f=e[e.length-1];if(f){var g=new RegExp(f,"i");d.filterFunction(function(a){var b=!1;return a.forEach(function(a){b!==!0&&void 0!==a&&null!==a&&a.search(g)!==-1&&(b=!0)}),b})}else d.filterAll();return e=f?[f]:[],c.publish("newFilterEvent",{filters:e,chart:a,header:b}),e}},this._appliedStates={},this.applyState=function(a,b,c,e){if(b===d.$current.name&&c in d.params&&d.params[c]){var f=d.params[c];Array.isArray(f)?f.forEach(function(b){a.filter(b)}):a.filter(f),Array.isArray(f)||(f=[f]),a.redrawGroup(),b in this._appliedStates||(this._appliedStates[b]=[]),this._appliedStates[b].push({filters:f,chart:a,header:e,ndxInstanceName:b,stateFieldName:c})}},this.appliedStates=function(a,b){return a in this._appliedStates?(this._appliedStates[a]=this._appliedStates[a].filter(function(a){return a.stateFieldName in b&&"undefined"!=typeof b[a.stateFieldName]}),this._appliedStates[a]):[]}}a.$inject=["NdxService","d3","Messagebus","$state"],angular.module("estepApp.utils").service("NdxHelperFunctions",a)}(),function(){"use strict";function a(a,b,c,d,e){this.ndxInstances={},this.dimensionCache={},this.storedFilters={};var f=b.defer();this.ready=f.promise,this.getSize=function(a){return this.ndxInstances[a].size()},this.readData=function(a){this.data=a,e.CROSSFILTER_INSTANCES.forEach(function(b){this.ndxInstances.hasOwnProperty(b.key)?this.ndxInstances[b.key].add(a[b.value]):this.ndxInstances[b.key]=c(a[b.value])}.bind(this)),f.resolve()}.bind(this),this.resetData=function(){this.dimensionCache.keys().forEach(function(a){var b=this[a];b.filter(null),b.dispose()},this.dimensionCache),this.ndxInstances.keys().forEach(function(a){this[a].remove()},this.ndxInstances),d.publish("clearFilters")},this.buildDimension=function(a,b,c){var d=this.getNdxInstance(a),e=this.getDimension(a,b);return null===e&&(e=d.dimension(c),this.dimensionCache[a+":"+b]=e),e},this.getNdxInstance=function(a){return this.ndxInstances.hasOwnProperty(a)||(this.ndxInstances[a]=c([])),this.ndxInstances[a]},this.getDimension=function(a,b){var c=a+":"+b;return this.dimensionCache.hasOwnProperty(c)?this.dimensionCache[c]:null},this.getRecordBySlug=function(a,b){return this.data[a].find(function(a){return a.slug===b})},this.getRecordById=function(a){var b,c=function(b){return b["@id"].replace(/\/$/,"")===a};return e.CROSSFILTER_INSTANCES.forEach(function(a){var d=this.data[a.value].find(c);d&&(b={collection:a,record:d})}.bind(this)),b},a.ready.then(function(a){this.readData(a)}.bind(this))}a.$inject=["DataService","$q","crossfilter","Messagebus","estepConf"],angular.module("estepApp.ndx").service("NdxService",a)}(),function(){"use strict";angular.module("estepApp.core").constant("estepConf",{DATA_JSON_URL:"/index.json",CROSSFILTER_INSTANCES:[{key:"software",value:"software"},{key:"projects",value:"project"},{key:"people",value:"person"},{key:"organizations",value:"organization"}],ROWCHART_DIMENSIONS:{width:250,barHeight:25,gapHeight:1,margins:{top:0,bottom:-1,right:0,left:0}},ROOT_URL:"http://software.esciencecenter.nl"})}(),function(){"use strict";function a(a,b,c,d,e){var f=this;this.data={};var g=b.defer();this.ready=g.promise,this.load=function(){var a=e.DATA_JSON_URL;d.json(a,function(a,b){return a?console.warn(a):(f.data=b,void g.resolve(f.data))}.bind(this))}.bind(this)}a.$inject=["$http","$q","$log","d3","estepConf"],angular.module("estepApp.core").service("DataService",a)}(),function(){"use strict";function a(a,b,c,d){this.filters=[],this.clearFilter=function(a){a.chart.filter([a.query]),a.chart.redrawGroup()},this.registerFilter=function(a){a.filters.length?(this.filters=this.filters.filter(function(b){return a.header!==b.header}),a.filters.forEach(function(b){this.filters.push({query:b,chart:a.chart,header:a.header})},this)):this.filters=this.filters.filter(function(b){return a.header!==b.header})},a.subscribe("newFilterEvent",function(a,b){this.collection===b.chart.chartGroup()&&this.registerFilter(b)}.bind(this));var e=b.appliedStates(this.collection,d);e.forEach(function(a){this.registerFilter(a)},this)}a.$inject=["Messagebus","NdxHelperFunctions","NdxService","$stateParams"],angular.module("estepApp.breadcrumbs").component("breadcrumbsDirective",{templateUrl:"scripts/breadcrumbs/breadcrumbs.directive.html",controller:a,bindings:{collection:"<"}})}(),function(){"use strict";function a(a,b,c,d,e){var f=a.jsonArrayFieldToChart,g=a.ndxServiceName,h=d.buildDimensionWithArrayProperty(g,f),i=d.buildGroupWithArrayProperty(h,f);this.endorsers=[],this.isActive=function(a){return a===b.endorser},this.go=function(a){c.go(".",{endorser:a})},this.fillEndorsers=function(){this.endorsers=["All"].concat(i.top(1/0).map(function(a){return a.key}))},e.ready.then(this.fillEndorsers.bind(this))}a.$inject=["$attrs","$stateParams","$state","NdxHelperFunctions","NdxService"],angular.module("estepApp.endorsedby").controller("EndorsedbyController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/endorsedby/endorsedby.directive.html",controller:"EndorsedbyController",controllerAs:"$ctrl",scope:{},bindToController:!0}}angular.module("estepApp.endorsedby").directive("endorsedbyDirective",a)}(),function(){"use strict";function a(a,b){this.filter=function(c){var d={},e=new Set;e.add("software"),e.add("projects"),e.add("people"),e.has(c)&&(d.endorser=a.params.endorser),"software"!==c&&"projects"!==c||(d.discipline=a.params.discipline,d.competence=a.params.competence,d.expertise=a.params.expertise),b.filterAll(c),a.go(c,d)},this.is=function(b){return a.$current.name===b}}a.$inject=["$state","dc"],angular.module("estepApp.selector").controller("SelectorController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/selector/selector.directive.html",controller:"SelectorController",controllerAs:"$ctrl",scope:{},bindToController:!0}}angular.module("estepApp.selector").directive("rigSelector",a)}(),function(){"use strict";function a(a,b,c){var d=a.ndxServiceName,e="inGroup",f="endorser",g=c.buildDimensionWithArrayProperty(d,e);if(d===b.$current.name&&f in b.params&&b.params[f]){var h=b.params[f];"All"===h?g.filterAll():c.bagFilterHandler()(g,[h])}}a.$inject=["$attrs","$state","NdxHelperFunctions"],angular.module("estepApp.charts").component("endorseFilter",{controller:a})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){return(a-1)*i.ROWCHART_DIMENSIONS.gapHeight+i.ROWCHART_DIMENSIONS.barHeight*a+i.ROWCHART_DIMENSIONS.margins.top}var k=this,l=k.ndxInstanceName=b.ndxServiceName,m=Number(b.maxRows);k.chartHeader=b.chartHeader,k.jsonArrayFieldToChart=b.jsonArrayFieldToChart;var n=f.rowChart(a[0].children[1],l),o=h.buildDimensionWithProperty(l,k.jsonArrayFieldToChart),p=h.buildGroupWithProperty(o,k.jsonArrayFieldToChart),q=Math.max(1,Math.min(p.top(1/0).length,m));n.width(i.ROWCHART_DIMENSIONS.width).height(j(q)).fixedBarHeight(i.ROWCHART_DIMENSIONS.barHeight).dimension(o).group(p).data(function(a){return a.top(q)}).filterHandler(function(a,b){var c=h.bagFilterHandler(n,k.chartHeader)(a,b),e={};return e[k.jsonArrayFieldToChart]=b,d.go(k.ndxInstanceName,e,{notify:!1}),c}.bind(this)).elasticX(!0).gap(i.ROWCHART_DIMENSIONS.gapHeight).margins(i.ROWCHART_DIMENSIONS.margins).xAxis().ticks(0),n.on("preRedraw",function(a){var b=Math.max(1,Math.min(a.group().top(1/0).length,m)),c=j(b);a.height()!==c&&(a.height(c),a.render()),a.data(function(a){return a.top(b)})}),n.render(),h.applyState(n,l,k.jsonArrayFieldToChart,k.chartHeader)}a.$inject=["$element","$attrs","$stateParams","$state","d3","dc","NdxService","NdxHelperFunctions","estepConf"],angular.module("estepApp.charts").controller("GenericRowChart",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/charts/genericRowChart/genericRowChart.directive.html",controller:"GenericRowChart",controllerAs:"vm",scope:{},bindToController:!0}}angular.module("estepApp.charts").directive("genericRowChartDirective",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){return(a-1)*i.ROWCHART_DIMENSIONS.gapHeight+i.ROWCHART_DIMENSIONS.barHeight*a+i.ROWCHART_DIMENSIONS.margins.top}var k=this,l=k.ndxInstanceName=b.ndxServiceName,m=Number(b.maxRows);k.chartHeader=b.chartHeader,k.jsonArrayFieldToChart=b.jsonArrayFieldToChart;var n=f.rowChart(a[0].children[1],l),o=h.buildDimensionWithArrayProperty(l,k.jsonArrayFieldToChart),p=h.buildGroupWithArrayProperty(o,k.jsonArrayFieldToChart),q=Math.max(1,Math.min(p.top(1/0).length,m));n.width(i.ROWCHART_DIMENSIONS.width).height(j(q)).fixedBarHeight(i.ROWCHART_DIMENSIONS.barHeight).dimension(o).group(p).data(function(a){return a.top(q)}).filterHandler(function(a,b){var c=h.bagFilterHandler(n,k.chartHeader)(a,b),e={};return e[k.jsonArrayFieldToChart]=b,d.go(k.ndxInstanceName,e,{notify:!1}),c}.bind(this)).elasticX(!0).gap(i.ROWCHART_DIMENSIONS.gapHeight).margins(i.ROWCHART_DIMENSIONS.margins).xAxis().ticks(0),n.on("preRedraw",function(a){var b=Math.max(1,Math.min(a.group().top(1/0).length,m)),c=j(b);a.height()!==c&&(a.height(c),a.render()),a.data(function(a){return a.top(b)})}),n.render(),h.applyState(n,l,k.jsonArrayFieldToChart,k.chartHeader)}a.$inject=["$element","$attrs","$stateParams","$state","d3","dc","NdxService","NdxHelperFunctions","estepConf"],angular.module("estepApp.charts").controller("GenericArrayBasedRowChart",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/charts/genericArrayBasedRowChart/genericArrayBasedRowChart.directive.html",controller:"GenericArrayBasedRowChart",controllerAs:"vm",scope:{},bindToController:!0}}angular.module("estepApp.charts").directive("genericArrayBasedRowChartDirective",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){var i=this;this.input="",this.chartHeader=b.chartHeader,this.ndxInstanceName=b.ndxServiceName,this.NdxService=g,this.stateFieldName="keywords";var j="textSearch",k=b.jsonFields.split(",").map(function(a){return a.trim()});this.dimension=h.buildDimensionWithProperties(this.ndxInstanceName,j,k);var l=f.baseMixin({}).chartGroup(this.ndxInstanceName).dimension(this.dimension).filterHandler(function(a,b){var c=h.fulltextFilterHandler(l,i.stateFieldName)(a,b),e={};return e[i.stateFieldName]=c[0],d.go(i.ndxInstanceName,e,{notify:!1}),c});l.render=function(){var a=this.filter();return Array.isArray(a)&&(a=a[0]),i.input=a,l},l.redraw=function(){var a=this.filter();return Array.isArray(a)&&(a=a[0]),i.input=a,l},h.applyState(l,this.ndxInstanceName,this.stateFieldName,i.stateFieldName),this.applyFilter=function(){var a=this.input;f.events.trigger(function(){l.filter(a),l.redrawGroup()})}}a.$inject=["$element","$attrs","$stateParams","$state","d3","dc","NdxService","NdxHelperFunctions"],angular.module("estepApp.charts").controller("FullTextCrossfilterSearchController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/charts/fullTextCrossfilterSearch/fullTextCrossfilterSearch.directive.html",controller:"FullTextCrossfilterSearchController",controllerAs:"vm",scope:{},bindToController:!0}}angular.module("estepApp.charts").directive("fullTextCrossfilterSearchDirective",a)}(),function(){"use strict";function a(a,b,c,d,e){var f=this;this.ndxServiceName=b.ndxServiceName,this.initChart=function(){var b=e.getNdxInstance(f.ndxServiceName),c=b.groupAll(),g=d.dataCount(a[0].children[0],f.ndxServiceName).dimension(b).group(c);g.render()},this.resetAll=function(){d.filterAll(f.ndxServiceName),d.renderAll(f.ndxServiceName),c.go(f.ndxServiceName,{},{inherit:!1,notify:!1})},this.initChart()}a.$inject=["$element","$attrs","$state","dc","NdxService"],angular.module("estepApp.charts").component("counterChart",{controller:a,templateUrl:"scripts/charts/counterChart/counterChart.directive.html"})}(),function(){"use strict";function a(a,b){a.ready.then(function(){b.redrawAll("software")})}a.$inject=["NdxService","dc"],angular.module("estepApp.software").controller("SoftwareController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/software/software.directive.html",controller:"SoftwareController",controllerAs:"vm",scope:{},bindToController:!0}}angular.module("estepApp.software").directive("softwareDirective",a)}(),function(){"use strict";function a(a,b,c,d){this.initializeChart=function(){var e=c.dataTable(a[0].children[0],"software"),f=d.buildDimension("software","datatable",function(a){return[a["@id"]]});e.width(parseInt(a[0].getClientRects()[0].width,10)).dimension(f).group(function(a){return 1}).showGroups(!1).size(100).columns([function(a){return'<a href="'+a.id+'">'+a.name+"</a>"},function(a){return a.tagLine}]).sortBy(function(a){return a.name.toLowerCase()}).order(b.ascending),e.render()},this.initializeChart()}a.$inject=["$element","d3","dc","NdxService"],angular.module("estepApp.software").controller("SoftwareDatatableController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/software/datatable/software.datatable.directive.html",controller:"SoftwareDatatableController",controllerAs:"vm",scope:{},bindToController:!0}}angular.module("estepApp.software").directive("softwareDatatableDirective",a)}(),function(){"use strict";function a(a,b,c,d){this.collection="software",this.slug=a.slug,this.licenseMap={"apache-2.0":"Apache 2.0",mit:"MIT","mpl-2.0":"Mozilla Public License 2.0"},c.ready.then(function(){this.record=c.getRecordBySlug(this.collection,a.slug)}.bind(this)),this.trustedHtml=function(a){return this.record?b.trustAsHtml(this.record[a]):""},this.licenseLabel=function(a){return a in this.licenseMap?this.licenseMap[a]:a},this.kindOfUrl=function(a){return a.startsWith(d.ROOT_URL)?"internal":!!a.includes("://")&&"external"},this["goto"]=function(a){var b=a.replace(d.ROOT_URL,"");return b},this.linkOfPersonOrOrganization=function(a){if(a)if("string"==typeof a){var b=c.getRecordById(a);if(b)return this["goto"](a)}else if("name"in a){if("githubUrl"in a)return a.githubUrl;if("linkedInUrl"in a)return a.linkedInUrl;if("twitterUrl"in a)return a.twitterUrl;if("website"in a)return a.website}},this.nameOf=function(a){if(a){if("string"==typeof a){var b=c.getRecordById(a);return b.record.name}return"name"in a?a.name:void 0}}}a.$inject=["$stateParams","$sce","NdxService","estepConf"],angular.module("estepApp.software").component("softwareDetail",{templateUrl:"scripts/software/detail/software.detail.component.html",controller:a})}(),function(){"use strict";function a(a,b){a.ready.then(function(){b.redrawAll("projects")})}a.$inject=["NdxService","dc"],angular.module("estepApp.projects").controller("ProjectsController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/projects/projects.directive.html",controller:"ProjectsController",controllerAs:"vm",scope:{},bindToController:!0}}angular.module("estepApp.projects").directive("projectsDirective",a)}(),function(){"use strict";function a(a,b,c,d){this.initializeChart=function(){var e=c.dataTable("#dc-table-graph-proj","projects"),f=d.buildDimension("projects","datatable",function(a){return[a["@id"]]});e.width(1*a.innerWidth-8).dimension(f).group(function(a){return 1}).showGroups(!1).size(100).columns([function(a){var b='<div class="project-logo-container"><a href="'+a.id+'"><div class="project-title">'+a.name+'</div><div class="image-container">';return b+=null!==a.logo?'<img src="'+a.logo+'" class="project-logo">':'<img src="images/gray.png" class="empty project-logo">',b+"</div></a></div>"}]).sortBy(function(a){return a.name.toLowerCase()}).order(b.ascending),e.render()},this.initializeChart()}a.$inject=["$window","d3","dc","NdxService"],angular.module("estepApp.projects").controller("ProjectsDatatableController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/projects/datatable/projects.datatable.directive.html",controller:"ProjectsDatatableController",controllerAs:"projDTc"}}angular.module("estepApp.projects").directive("projectsDatatableDirective",a)}(),function(){"use strict";function a(a,b){a.ready.then(function(){b.redrawAll("people")})}a.$inject=["NdxService","dc"],angular.module("estepApp.people").controller("PeopleController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/people/people.directive.html",controller:"PeopleController",controllerAs:"vm",scope:{},bindToController:!0}}angular.module("estepApp.people").directive("peopleDirective",a)}(),function(){"use strict";function a(a,b,c,d,e){this.initializeChart=function(){var e=c.dataTable("#dc-table-graph-people","people"),f=d.buildDimension("people","datatable",function(a){return[a["@id"]]});e.width(1*a.innerWidth-8).dimension(f).group(function(a){return 1}).showGroups(!1).size(100).columns([function(a){var b='<div class="people-container"><a href="'+a.id+'"><div class="image-container">';return b+=null!==a.photo&&void 0!==a.photo?'<img src="'+a.photo+'" class="photo">':'<img src="images/team_default.png" class="empty photo">',b+='<div class="people-name">'+a.name+"</div>",b+"</div></a></div>"}]).sortBy(function(a){return a.name.toLowerCase()}).order(b.ascending),e.render()},this.initializeChart()}a.$inject=["$window","d3","dc","NdxService","Messagebus"],angular.module("estepApp.people").controller("PeopleDatatableController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/people/datatable/people.datatable.directive.html",controller:"PeopleDatatableController",controllerAs:"peopleDTc"}}angular.module("estepApp.people").directive("peopleDatatableDirective",a)}(),function(){"use strict";function a(a,b){a.ready.then(function(){b.redrawAll("organisations")})}a.$inject=["NdxService","dc"],angular.module("estepApp.organizations").controller("organizationsController",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"scripts/organizations/organizations.directive.html",controller:"organizationsController",controllerAs:"vorgc"}}angular.module("estepApp.organizations").directive("organizationsDirective",a)}(),angular.module("estepApp.templates").run(["$templateCache",function(a){"use strict";a.put("scripts/breadcrumbs/breadcrumbs.directive.html",'<ul>\n  <li ng-repeat="element in $ctrl.filters">{{element.header}}: {{element.query }}\n    <a class="btn btn-xs" ng-click="$ctrl.clearFilter(element)" title="Remove">\n      <span class="glyphicon glyphicon-remove-circle" style="color: darkred;"></span>\n    </a>\n  </li>\n</ul>\n'),a.put("scripts/charts/counterChart/counterChart.directive.html",'<div class="dc-placeholder">\n    <span class="filter-count"></span>\n     selected out of\n    <span class="total-count"></span>\n     records\n</div>\n<breadcrumbs-directive collection="$ctrl.ndxServiceName">\n</breadcrumbs-directive>\n<a ng-click="$ctrl.resetAll()">Reset All</a><br/>\n'),a.put("scripts/charts/fullTextCrossfilterSearch/fullTextCrossfilterSearch.directive.html",'<h6>{{vm.chartHeader}}</h6>\n<div id="fullltextSearch_{{vm.ndxServiceName}}">\n  <input type="text" ng-model="vm.input" ng-change="vm.applyFilter()"></input>\n</div>\n'),a.put("scripts/charts/genericArrayBasedRowChart/genericArrayBasedRowChart.directive.html",'<h6>{{vm.chartHeader}}</h6>\n<div class="dc-placeholder"></div>\n'),a.put("scripts/charts/genericRowChart/genericRowChart.directive.html",'<h6>{{vm.chartHeader}}</h6>\n<div class="dc-placeholder"></div>\n'),a.put("scripts/endorsedby/endorsedby.directive.html",'Endorsed by\n<div id="endorsedby_toggler" class="btn-group">\n    <a class="btn btn-primary"\n    ng-repeat="endorser in $ctrl.endorsers"\n    ng-class="{active: $ctrl.isActive(endorser)}"\n    ng-click="$ctrl.go(endorser)">{{endorser}}</a>\n</div>\n'),a.put("scripts/organizations/organizations.directive.html",'<div class="mdl-grid">\n</div>\n'),a.put("scripts/people/datatable/people.datatable.directive.html","<div class='table table-hover dc-data-table' id='dc-table-graph-people'>\n</div>\n"),a.put("scripts/people/people.directive.html",'<endorse-filter ndx-service-name="people"></endorse-filter>\n<div class="mdl-grid myChart">\n  <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-tablet">\n    <div class="mdl-grid">\n      <div class="blurb mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n        <p>Click on the bars to find people.</p>\n        <counter-chart ndx-service-name="people">\n        </counter-chart>\n      </div>\n\n      <full-text-crossfilter-search-directive\n        chart-header="Search for keywords"\n        ndx-service-name="people"\n        json-fields="name, excerpt, jobTitle, description"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </full-text-crossfilter-search-directive>\n\n      <generic-row-chart-directive\n        chart-header="Job Title"\n        ndx-service-name="people"\n        json-array-field-to-chart="jobTitle"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-row-chart-directive>\n    </div>\n  </div>\n\n  <div class="mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet">\n    <people-datatable-directive></people-datatable-directive>\n  </div>\n</div>\n'),a.put("scripts/projects/datatable/projects.datatable.directive.html","<div class='table table-hover dc-data-table' id='dc-table-graph-proj'>\n</div>\n"),a.put("scripts/projects/projects.directive.html",'<endorse-filter ndx-service-name="projects"></endorse-filter>\n<div class="mdl-grid myChart">\n  <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-tablet">\n    <div class="mdl-grid">\n      <div class="blurb mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n        <p>Click on the bars to find scientific projects.</p>\n        <counter-chart ndx-service-name="projects">\n        </counter-chart>\n      </div>\n\n      <full-text-crossfilter-search-directive\n        chart-header="Search for keywords"\n        ndx-service-name="projects"\n        json-fields="name, excerpt, tagLine, description"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </full-text-crossfilter-search-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Disciplines"\n        ndx-service-name="projects"\n        json-array-field-to-chart="discipline"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Competence areas"\n        ndx-service-name="projects"\n        json-array-field-to-chart="competence"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Technical expertises"\n        ndx-service-name="projects"\n        json-array-field-to-chart="expertise"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Data Format"\n        ndx-service-name="projects"\n        json-array-field-to-chart="dataFormat"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-row-chart-directive\n        chart-header="Data Magnitude"\n        ndx-service-name="projects"\n        json-array-field-to-chart="dataMagnitude"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-row-chart-directive>\n    </div>\n  </div>\n\n  <div class="mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet">\n    <projects-datatable-directive></projects-datatable-directive>\n  </div>\n</div>\n\n<!-- <div class="project-container">\n    <div ng-repeat="p in vprojc.site.project" class="project-logo-container">\n      <a href="{{ p.url }}">\n        <img ng-show="p.logo !== null" src="{{ p.logo }}" class="project-logo">\n        <img ng-show="p.logo === null" src="/images/gray.png" class="empty project-logo">\n      </a>\n      <a href="{{ p.url }}" class="project-link">{{ p.name }}</a>\n    </div>\n</div> -->\n'),a.put("scripts/selector/selector.directive.html",'<div class="mdl-grid">\n  <div class="mdl-cell mdl-cell--4-col">\n    <div class="logo-nlesc"></div>\n  </div>\n</div>\n\n<endorsedby-directive ndx-service-name="software" json-array-field-to-chart="inGroup"></endorsedby-directive>\n\n<!-- TODO update urls to include current filter state or clear filters-->\n<div class="mdl-grid">\n  <div class="mdl-cell mdl-cell--2-col-desktop mdl-cell--hide-tablet"></div>\n  <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone nav-button">\n    <a class="" ng-class="{active: $ctrl.is(\'software\'), activedetail: $ctrl.is(\'software-detail\')}" ng-click="$ctrl.filter(\'software\')">Software</a>\n\t</div>\n  <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone nav-button">\n    <a class="" ng-class="{active: $ctrl.is(\'projects\'), activedetail: $ctrl.is(\'projects-detail\')}" ng-click="$ctrl.filter(\'projects\')">Projects</a>\n\t</div>\n  <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone nav-button">\n    <a class="" ng-class="{active: $ctrl.is(\'people\'), activedetail: $ctrl.is(\'people-detail\')}" ng-click="$ctrl.filter(\'people\')">People</a>\n\t</div>\n  <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone nav-button">\n    <a class="" ng-class="{active: $ctrl.is(\'organizations\'), activedetail: $ctrl.is(\'organizations-detail\')}" ng-click="$ctrl.filter(\'organizations\')">Organizations</a>\n\t</div>\n</div>\n\n<!-- <div class="wrapper"> -->\n<div class="mdl-grid">\n  <div class="mdl-cell mdl-cell--2-col-desktop mdl-cell--hide-tablet"></div>\n\t<div class="mdl-cell mdl-cell--8-col-desktop mdl-cell--8-col-tablet">\n    <section ui-view></section>\n  </div>\n  <div\n'),a.put("scripts/software/datatable/software.datatable.directive.html","<table class='table table-hover dc-data-table'>\n    <thead>\n        <tr class='header'>\n            <th>Name</th>\n            <th>Description</th>\n        </tr>\n    </thead>\n</table>\n"),
a.put("scripts/software/detail/software.detail.component.html",'<h1>{{ $ctrl.record.name }}</h1>\n</hr>\n<img ng-if="$ctrl.record.logo" ng-src="{{ $ctrl.record.logo }}" class="logo"/>\n<div class="properties row">\n  <div class="col-md-4">\n\n    <div class="property urls">\n      <h3>Links</h3>\n      <ul class="link-list">\n        <li ng-if="$ctrl.record.website"><a ng-href="{{ $ctrl.record.website }}">Website</a></li>\n        <li ng-if="$ctrl.record.nlescWebsite"><a ng-href="{{ $ctrl.record.nlescWebsite }}">NLeSC website</a></li>\n        <li ng-if="$ctrl.record.codeRepository"><a ng-href="{{ $ctrl.record.codeRepository }}">Source code</a></li>\n        <li ng-if="$ctrl.record.downloadUrl"><a ng-href="{{ $ctrl.record.downloadUrl }}">Download</a></li>\n        <li ng-if="$ctrl.record.documentationUrl"><a ng-href="{{ $ctrl.record.documentationUrl }}">Documentation</a></li>\n        <li ng-if="$ctrl.record.doi"><a ng-href="{{ $ctrl.record.doi }}">DOI</a></li>\n      </ul>\n    </div>\n\n    <div class="property">\n      <h3>Start Date</h3>\n      <div class="start-date">{{ $ctrl.record.startDate }}</div>\n    </div>\n\n    <div class="property">\n      <h3>Status</h3>\n      <div ng-if="$ctrl.record.status" class="status">\n        <a ui-sref="software({status: $ctrl.record.status})">{{ $ctrl.record.status }}</a>\n      </div>\n    </div>\n\n    <div class="property">\n      <h3>Discipline</h3>\n      <ul ng-if="$ctrl.record.discipline" class="discipline-list">\n        <li ng-repeat="d in $ctrl.record.discipline">\n          <a ui-sref="software({discipline: d})">{{ d }}</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="property">\n      <h3>Competence</h3>\n      <ul ng-if="$ctrl.record.competence" class="competence-list">\n        <li ng-repeat="d in $ctrl.record.competence">\n          <a ui-sref="software({competence: d})">{{ d }}</a>\n        </li>\n      </ul>\n    </div>\n\n  </div>\n  <div class="col-md-4">\n\n    <div class="property">\n      <h3>Expertise</h3>\n      <ul ng-if="$ctrl.record.expertise" class="expertise-list">\n        <li ng-repeat="d in $ctrl.record.expertise">\n          <a ui-sref="software({expertise: d})">{{ d }}</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="property">\n      <h3>Programming Language</h3>\n      <ul ng-if="$ctrl.record.programmingLanguage" class="programming-language-list">\n        <li ng-repeat="d in $ctrl.record.programmingLanguage">\n          <a ui-sref="software({programmingLanguage: d})">{{ d }}</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="property">\n      <h3>License</h3>\n      <ul class="license-list">\n        <li ng-repeat="d in $ctrl.record.license">\n          <a ui-sref="software({license: d})">{{ $ctrl.licenseLabel(d) }}</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="property">\n      <h3>Tags</h3>\n      <ul class="technology-tag-list">\n        <li ng-repeat="d in $ctrl.record.technologyTag">\n          <a ui-sref="software({technologyTag: d})">{{ d }}</a>\n        </li>\n      </ul>\n    </div>\n\n    <div ng-if="$ctrl.record.dependency" class="property">\n      <h3>Dependencies</h3>\n      <ul class="dependency-list">\n        <li ng-repeat="d in $ctrl.record.dependency">\n          <span ng-switch on="$ctrl.kindOfUrl(d)">\n            <a ng-switch-when="internal" ng-href="{{ $ctrl.goto(d) }}">{{ $ctrl.nameOf(d) }}</a>\n            <a ng-switch-when="external" ng-href="{{ d }}">{{ d }}</a>\n            <span ng-switch-default>{{ d }}</span>\n          </span>\n        </li>\n      </ul>\n    </div>\n\n    <div ng-if="$ctrl.record.dependencyOf" class="property">\n      <h3>Dependency of</h3>\n      <ul class="dependency-of-list">\n        <li ng-repeat="d in $ctrl.record.dependencyOf">\n          <span ng-switch on="$ctrl.kindOfUrl(d)">\n            <a ng-switch-when="internal" ng-href="{{ $ctrl.goto(d) }}">{{ $ctrl.nameOf(d) }}</a>\n            <a ng-switch-when="external" ng-href="{{ d }}">{{ d }}</a>\n            <span ng-switch-default>{{ d }}</span>\n          </span>\n        </li>\n      </ul>\n    </div>\n\n  </div>\n  <div class="col-md-4">\n\n    <div class="property">\n    <h3>Contact Person</h3>\n      <a ng-if="$ctrl.linkOfPersonOrOrganization($ctrl.record.contactPerson)"\n        ng-href="{{ $ctrl.linkOfPersonOrOrganization($ctrl.record.contactPerson) }}">\n        {{ $ctrl.nameOf($ctrl.record.contactPerson) }}\n      </a>\n      <span ng-if="!$ctrl.linkOfPersonOrOrganization($ctrl.record.contactPerson)">\n        {{ $ctrl.nameOf($ctrl.record.contactPerson) }}\n      </span>\n    </div>\n\n    <div class="property">\n      <h3>Owner(s)</h3>\n      <ul>\n        <li ng-repeat="d in $ctrl.record.owner">\n          <a ng-if="$ctrl.linkOfPersonOrOrganization(d)"\n            ng-href="{{ $ctrl.linkOfPersonOrOrganization(d) }}">\n            {{ $ctrl.nameOf(d) }}\n          </a>\n          <span ng-if="!$ctrl.linkOfPersonOrOrganization(d)">\n            {{ $ctrl.nameOf(d) }}\n          </span>\n        </li>\n      </ul>\n    </div>\n\n    <div ng-if="$ctrl.record.contributor" class="property">\n      <h3>Contributors</h3>\n      <ul class="contributor-list">\n        <li ng-repeat="d in $ctrl.record.contributor">\n          <a ng-if="$ctrl.linkOfPersonOrOrganization(d)"\n            ng-href="{{ $ctrl.linkOfPersonOrOrganization(d) }}">\n            {{ $ctrl.nameOf(d) }}\n          </a>\n          <span ng-if="!$ctrl.linkOfPersonOrOrganization(d)">\n            {{ $ctrl.nameOf(d) }}\n          </span>\n        </li>\n      </ul>\n    </div>\n\n    <div ng-if="$ctrl.record.involvedOrganization" class="property">\n      <h3>Involved Organizations</h3>\n      <ul class="involved-organization-list">\n        <li ng-repeat="d in $ctrl.record.involvedOrganization">\n          <a ng-if="$ctrl.linkOfPersonOrOrganization(d)"\n            ng-href="{{ $ctrl.linkOfPersonOrOrganization(d) }}">\n            {{ $ctrl.nameOf(d) }}\n          </a>\n          <span ng-if="!$ctrl.linkOfPersonOrOrganization(d)">\n            {{ $ctrl.nameOf(d) }}\n          </span>\n        </li>\n      </ul>\n    </div>\n\n    <div ng-if="$ctrl.record.user" class="property">\n      <h3>Users</h3>\n      <ul class="user-list">\n        <li ng-repeat="d in $ctrl.record.user">\n          <a ng-if="$ctrl.linkOfPersonOrOrganization(d)"\n            ng-href="{{ $ctrl.linkOfPersonOrOrganization(d)}}">\n            {{ $ctrl.nameOf(d) }}\n          </a>\n          <span ng-if="!$ctrl.linkOfPersonOrOrganization(d)">\n            {{ $ctrl.nameOf(d) }}\n          </span>\n        </li>\n      </ul>\n    </div>\n\n    <div ng-if="$ctrl.record.usedIn" class="property">\n      <h3>Used in Projects</h3>\n      <ul class="used-in-list">\n        <li ng-repeat="d in $ctrl.record.usedIn">\n          <a ng-if="d.name" ng-href="{{ $ctrl.goto(d[\'@id\']) }}">{{ d.name }}</a>\n          <a ng-if="!d.name" ng-href="{{ $ctrl.goto(d) }}">{{ $ctrl.nameOf(d) }}</a>\n        </li>\n      </ul>\n    </div>\n\n  </div>\n\n</div>\n\n<hr/>\n\n<h1>Description</h1>\n\n<div class="description" ng-bind-html="$ctrl.trustedHtml(\'description\')"></div>\n'),a.put("scripts/software/software.directive.html",'<endorse-filter ndx-service-name="software"></endorse-filter>\n<div class="mdl-grid myChart">\n  <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-tablet">\n    <div class="mdl-grid">\n      <div class="blurb mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n        <p>\n            Click on the bars to find software projects.\n        </p>\n        <counter-chart ndx-service-name="software">\n        </counter-chart>\n      </div>\n\n      <full-text-crossfilter-search-directive\n        chart-header="Search for keywords"\n        ndx-service-name="software"\n        json-fields="name, tagLine, description"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </full-text-crossfilter-search-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Discipline"\n        ndx-service-name="software"\n        json-array-field-to-chart="discipline"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Competence areas"\n        ndx-service-name="software"\n        json-array-field-to-chart="competence"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Technical expertises"\n        ndx-service-name="software"\n        json-array-field-to-chart="expertise"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Technologies used"\n        ndx-service-name="software"\n        json-array-field-to-chart="technologyTag"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-row-chart-directive\n        chart-header="Support Level"\n        ndx-service-name="software"\n        json-array-field-to-chart="supportLevel"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-row-chart-directive>\n\n      <generic-row-chart-directive\n        chart-header="Software project status"\n        ndx-service-name="software"\n        json-array-field-to-chart="status"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-row-chart-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="Programming Languages"\n        ndx-service-name="software"\n        json-array-field-to-chart="programmingLanguage"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n\n      <generic-array-based-row-chart-directive\n        chart-header="License"\n        ndx-service-name="software"\n        json-array-field-to-chart="license"\n        max-rows="15"\n        class="mdl-cell mdl-cell--12-col mdl-cell--4-col-tablet">\n      </generic-array-based-row-chart-directive>\n    </div>\n  </div>\n\n  <div class="mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet">\n    <software-datatable-directive></software-datatable-directive>\n  </div>\n</div>\n')}]);